<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Form Đăng kí</title>
	<link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet" />
    <link rel="stylesheet" href="./bootstrap-5.2.1-dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="./css/style.css">
	<link rel="stylesheet" href="./css/home.css">
	<script type="text/javascript " src="Jquery/jquery.min.js"></script> 
    <script type="text/javascript" src="./Jquery/jquery.validate.min.js"></script>	
	<script type="text/javascript" src="./js/ckeditor_4.15.1_standard/ckeditor/ckeditor.js"></script>
   

</head>

<body>
    <header></header>
   <!-- <iframe class="w-100" style="height: 70px;" src="./header.html" seamless></iframe> -->
    <form class="form" onsubmit="return false">
		<h2>ĐĂNG KÝ THÀNH VIÊN</h2>	
		<p>
			<label>Tên truy cập (*):</label> <br>
			<input name="username" id="input_email" value="" type="text" placeholder="Choose your username" 
			 onblur="console.log('onblur',this.value)" />
		</p>
		<p>
			<label>Mật khẩu (*):</label> <br>
			<input name="password" id="input_password" value="" type="password" placeholder="Creat a new password"
			onchange="console.log('onchange',this.value)" />
		</p>
		<p>
			<label>Xác nhận mật khẩu (*):</label> <br>
			<input name="repassword" value="" type="password" placeholder="Confirm your password" />
		</p>
		<p>
			<label>Họ và tên (*):</label> <br>
			<input name="fullname" value="" type="text" placeholder="Write your name here.." />
		</p>
		<p>
			<label>Sinh nhật (*):</label> <br>
			<input name="birthday" value="" type="text" placeholder="Tell us your birthday" />
		</p>
		<p>
			<label>Giới tính (*):</label>
			<p>
				Nam</span><input type="radio" value="nam" name="gioitinh" />
				Nữ</span><input type="radio" value="nu" name="gioitinh" />
			</p>
		</p>
		<p>
			<label>Địa chỉ (*):</label>
			<select name="city">
				<option value="">--[Chọn]--</option>
				<option value="danang">Đà Nẵng</option>
				<option value="hochiminh">Hồ Chí Minh</option>
				<option value="hanoi">Hà Nội</option>
			</select>
		</p>
		<p>
			<label>Số điện thoại:</label> <br>
			<input name="phone" value="" type="text" placeholder="Enter your phone number.." />
		</p>
		<p>
			<label>Email (*):</label> <br>
			<input name="email" value="" type="text" placeholder="Let us know how to contact you back.." />
		</p>
		<p>
			<label>Facebook:</label> <br>
			<input name="facebook" value="" type="text" placeholder="Enter your facebook profile" />
		</p>
		<p>
			<label>Thông tin thêm:(*)</label>
			<textarea class="ckeditor" name="moreinfo" placeholder="What would you like to tell us.."></textarea>
		</p>
		<p>
			<input type="submit" onclick="handleSubmit(this)" name="submit" value="ĐĂNG KÝ" />
			<input type="reset" name="reset" value="RESET" />
		</p>
		
	</form>
    <footer></footer>

	<script>
		$(document).ready(function(){
				$('.form').validate({
					rules:{
						"username":{
							required:true,
							minlength:6,
   							maxlength:32,
							
						},
						 "password" :{
     						required:true,
    						minlength:6,

 						 },
 						 "repassword":{
 						 	required:true,
 						 	equalTo:"#password",

 						 	
 						 },
 						 "fullname":{
 						 		required:true,
 						 },
 						 "birthday":{
 						 	 required: true,
     						 date: true
 						 },
 						 "phone":{
 						 	required: true,
     						number: true
 						 },
 						 "email":{
 						 	 required: true,
      						 email: true
 						 },
 						 "facebook":{
 						 	 required: true,
      						 url: true
 						 },
 						 "gioitinh":{
 						 	required: true,
 						 },
 						  "city":{
 						 	required: true,
 						 },
 						

					},
					messages:{
						"username":{
							required:"Vui lòng nhập username",
							minlength:"Vui lòng nhập trên 6 kí tự",
    						maxlength:"Vui lòng nhập dưới 32 kí tự",
							},
						 "password" :{
   							required:" Vui lòng nhập mật khẩu",
     						minlength:"Vui lòng nhập trên 6 kí tự",
   							 },
   						"repassword":{
 						 	required:" Vui lòng xác nhận lại mật khẩu",
 						 },
 						 "fullname":{
 						 		required:" Vui lòng nhập tên"
 						 },
 						 "birthday":{
 						 	 required: " Vui lòng nhập ngày sinh",
     						 date: "Vui lòng nhập đúng Năm/Tháng/Ngày",

 						 },
 						 "phone":{
 						 	required: " Vui lòng nhập số điện thoại",
     						number:"Vui lòng nhập đúng số"
 						 },
 						 "email":{
 						 	 required: " Vui lòng nhập email",
      						 
 						 },
 						 "facebook":{
 						 	 required:" Vui lòng nhập facebook",
      						 url: "Vui lòng nhập đúng url Facebook"
 						 },

 						  "gioitinh":{
 						 	required: " Vui lòng chọn giới tính",
 						 },
 						  "city":{
 						 	required: "Vui lòng chọn địa chỉ",
 						 },
					},
						
				});
			});
			function handleSubmit(event) {
            let elementInputEmail = document.getElementById('input_email');
            let elementInputPassword = document.getElementById('input_password');

            let objectUser = {
                name: elementInputEmail?.value,
               
            }

            postData(objectUser)
            return false;
        }
        function postData(user) {
            fetch("https://634ea20a4af5fdff3a62aa66.mockapi.io/Ex/api/v1/users/", {
                method: "POST",
                headers: {
                    "Content-Type": "application/json",
                },
                body: JSON.stringify(user),
            })
                .then((response) => response.json())
                .then((res) => console.log(res))
                .catch((error) => {
                    console.error("Error:", error);
                });
        }
	</script>
	  <script src="./js/home.js"></script>
</body>

</html>